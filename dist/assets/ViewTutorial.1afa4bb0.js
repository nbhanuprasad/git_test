import{T as V}from"./TutorialDataService.0265f4fa.js";import{L as h}from"./LessonDataService.c32c0e9b.js";import{_ as L,o as c,c as f,w as s,a as e,b as a,t as u,V as m,r as C,d as _,F as p,e as E,f as g}from"./index.565fc2ce.js";import{V as n,a as v}from"./http-common.77a361c3.js";const T={props:{lesson:Object},data(){return{}},methods:{deleteLesson(){this.$emit("deleteLesson")},updateLesson(){this.$emit("updateLesson")}}};function $(o,t,d,D,r,l){return c(),f(v,null,{default:s(()=>[e(n,{cols:"8",sm:"2"},{default:s(()=>[a("span",null,u(d.lesson.title),1)]),_:1}),e(n,{cols:"8",sm:"4"},{default:s(()=>[a("span",null,u(d.lesson.description),1)]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[e(m,{size:"x-small",icon:"mdi-pencil",onClick:l.updateLesson},null,8,["onClick"])]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[e(m,{size:"x-small",icon:"mdi-trash-can",onClick:l.deleteLesson},null,8,["onClick"])]),_:1})]),_:1})}var w=L(T,[["render",$]]);const y={name:"view-tutorial",props:["id"],components:{LessonDisplay:w},data(){return{tutorial:{},lessons:[],message:"Add, Edit or Delete Lessons"}},methods:{retrieveLessons(){V.get(this.id).then(o=>{this.tutorial=o.data,h.getAllLessons(this.id).then(t=>{this.lessons=t.data}).catch(t=>{this.message=t.response.data.message})}).catch(o=>{this.message=o.response.data.message})},goEditTutorial(){this.$router.push({name:"edit",params:{id:this.id}})},goEditLesson(o){this.$router.push({name:"editLesson",params:{tutorialId:this.id,lessonId:o.id}})},goAddLesson(){this.$router.push({name:"addLesson",params:{tutorialId:this.id}})},goDeleteLesson(o){h.deleteLesson(o.tutorialId,o.id).then(()=>{this.retrieveLessons()}).catch(t=>{this.message=t.response.data.message})},cancel(){this.$router.push({name:"tutorials"})}},mounted(){this.retrieveLessons()}},A=a("h2",null,"Tutorial View",-1),B=g("Edit"),I=g("Add Lesson"),N=a("span",{class:"text-h6"},"Title",-1),S=a("span",{class:"text-h6"},"Description",-1),b=a("span",{class:"text-h6"},"Edit",-1),z=a("span",{class:"text-h6"},"Delete",-1);function F(o,t,d,D,r,l){const x=C("LessonDisplay");return c(),_(p,null,[A,a("h4",null,u(r.message),1),a("h3",null,u(r.tutorial.title),1),e(m,{color:"success",onClick:t[0]||(t[0]=i=>l.goEditTutorial())},{default:s(()=>[B]),_:1}),e(m,{color:"success",onClick:t[1]||(t[1]=i=>l.goAddLesson(d.id))},{default:s(()=>[I]),_:1}),e(v,null,{default:s(()=>[e(n,{cols:"8",sm:"2"},{default:s(()=>[N]),_:1}),e(n,{cols:"8",sm:"4"},{default:s(()=>[S]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[b]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[z]),_:1})]),_:1}),(c(!0),_(p,null,E(r.lessons,i=>(c(),f(x,{key:i.id,lesson:i,onDeleteLesson:k=>l.goDeleteLesson(i),onUpdateLesson:k=>l.goEditLesson(i)},null,8,["lesson","onDeleteLesson","onUpdateLesson"]))),128))],64)}var q=L(y,[["render",F]]);export{q as default};
